if (self.CavalryLogger) { CavalryLogger.start_js(["U1DhC"]); }

__d("VideoPlayerReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY:"autoplay_initiated",COMMERCIAL_BREAK:"commercial_break",CONNECTION:"host-connection-error",EMBEDDED_VIDEO_API:"embedded_video_api_initiated",FALLBACK_MODE:"fallback_mode",HOVER:"hover",LOOP:"loop_initiated",NETWORK_INTERRUPTED:"network_interrupted",NETWORK_RESUMED:"network_resumed",PAGE_VISIBILITY:"page_visibility_initiated",SEEK:"seek_initiated",SPHERICAL_FALLBACK:"spherical_fallback",SPHERICAL_SWITCH_CANVAS:"spherical_switch_canvas",SPHERICAL_FAILED:"spherical_failed",UNLOADED:"unloaded",USER:"user_initiated",VIDEO_DATA_REPLACED:"video_data_replaced",VIDEO_DATA_SWITCH:"video_data_switch",VIDEO_VISIBILITY:"video_visibility_initiated",VOD_NOT_READY:"vod_not_ready",WARNING_SCREEN_COVER:"warning_screen_cover",UNKNOWN:"unknown"})}),null);
__d("destroyOnUnload",["Run"],(function(a,b,c,d,e,f){function a(a){return b("Run").onLeave(a)}e.exports=a}),null);
__d("UFIVideoPlayerRegistry",["EventEmitter","VideoPlayerReason","ViewportBounds","destroyOnUnload","getOrCreateDOMID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("EventEmitter"))(),h=new Map(),i=new Map(),j=new Map(),k=new Map(),l=new Set(),m=new Map();b("destroyOnUnload")(function(){g.removeAllListeners(),h.clear(),i.clear(),j.clear(),k.clear(),l.clear()});function n(a){a=a;var b=[];while(a)b.unshift(a),a=a.parentElement;return b}function o(a,b){__p&&__p();var c=n(a);a=null;var d=null;b.forEach(function(b){__p&&__p();var e=b[0];b=b[1];e=n(e);for(var f=0;f<c.length;++f){if(c[f]!==e[f]){(d===null||f>d)&&(d=f,a=b);break}f===c.length-1&&((d===null||f>d)&&(d=f,a=b))}});return a}function p(a,b){__p&&__p();var c=n(a);a=null;var d=null;b.forEach(function(b){var e=b[0];b=b[1];e=n(e);for(var f=0;f<c.length;++f)if(c[f]!==e[f]){(d===null||f>d)&&(d=f,a=b);break}});return a}var q={registerVideoPlayerController:function(a){var b=this,c=a.getVideoID(),d=k.get(c);d?d.push(a):(d=[a],k.set(c,d),j["delete"](c));l.forEach(function(a){return a()});a=h.get(c);if(!a)return;a.forEach(function(a){return b._associateUFIController(a,c)})},addOnRegisterListener:function(a){l.add(a)},removeOnRegisterListener:function(a){l["delete"](a)},getAvailableVideoPlayerController:function(a){return i.get(a)},seekAvailableVideoPlayerController:function(a,c){a=q.getAvailableVideoPlayerController(a);if(!a)return;["ready","playing","paused","finished"].includes(a.getState())&&(a.pause(b("VideoPlayerReason").SEEK),a.seek(c),a.play(b("VideoPlayerReason").SEEK))},scrollToAvailableVideo:function(a){a=q.getAvailableVideoPlayerController(a);if(!a)return;a=b("ViewportBounds").getElementPosition(a.getRootNode());window.scroll(0,a.y)},setAvailableVideoPlayerControllerSphericalViewport:function(a,b){a=q.getAvailableVideoPlayerController(a);if(!a)return;a.emit("SphericalVideoViewportTagComment/click",b)},getAvailableVideoPlayerControllerForElement:function(a,c){if(!a)return null;var d=j.get(c)||new Map(),e=b("getOrCreateDOMID")(a);a=d.get(e)||this.findVideoPlayerControllerForElement(a,c);d.set(e,a);j.set(c,d);return a},getAvailableVideoPlayerControllerTimeForElement:function(a,b){if(!a)return null;a=q.getAvailableVideoPlayerControllerForElement(a,b);if(!a)return null;b=a.getCurrentTimePosition();return b>=0?Math.floor(b):null},getAvailableVideoPlayerControllerTime:function(a){a=q.getAvailableVideoPlayerController(a);if(!a)return null;a=a.getCurrentTimePosition();return a>=0?Math.floor(a):null},registerUFIController:function(a,b,c){var d=a.getInstanceID(),e=a.getFluentContentToken();if(!e)return;var f=h.get(e);f?f.push(a):(f=[a],h.set(e,f));g.addListener(d+"/register",b);g.addListener(d+"/unregister",c);this._associateUFIController(a,e)},getAvailableUFIController:function(a){__p&&__p();var b=m.get(a);if(b)return b;var c=h.get(a.getVideoID());if(!c)return null;c.length===1?b=c[0]:b=p(a.getRootNode(),c.map(function(a){return[a.getRootNode(),a]}));if(b){c=this.findVideoPlayerControllerForElement(b.getRootNode(),a.getVideoID());if(c!==a)return null;m.set(a,b)}return b},findVideoPlayerControllerForElement:function(a,b){b=k.get(b);if(!b)return null;if(b.length===1)return b[0];return!a?null:o(a,b.filter(function(a){return!a.isState("destroyed")}).map(function(a){return[a.getRootNode(),a]}))},unregisterVideoPlayerControllerForElement:function(a,b){__p&&__p();var c=k.get(b);if(!c)return;var d=this.findVideoPlayerControllerForElement(a,b);if(d==null)return;a=c.findIndex(function(a){return a.getRootNode()===d.getRootNode()});c.splice(a,1);k.set(b,c)},_associateUFIController:function(a,c){__p&&__p();var d=a.getInstanceID();a=this.findVideoPlayerControllerForElement(a.getRootNode(),c);if(!a||a.isState("destroyed"))return;c=i.get(d);if(c){if(!c.isState("destroyed")&&b("getOrCreateDOMID")(c.getRootNode())===b("getOrCreateDOMID")(a.getRootNode()))return;g.emit(d+"/unregister")}i.set(d,a);g.emit(d+"/register",a)}};e.exports=q}),null);
__d("UFI2ReactionsLinkStandaloneQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"feedbackTargetID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"useDefaultActor",type:"Boolean",defaultValue:!0}],b=[{kind:"Variable",name:"id",variableName:"feedbackTargetID"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"LinkedField",alias:null,name:"associated_video",storageKey:null,args:null,concreteType:"Video",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"is_live_streaming",args:null,storageKey:null}]},e=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],f={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null},g=[f,c];return{kind:"Request",fragment:{kind:"Fragment",name:"UFI2ReactionsLinkStandaloneQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:b,concreteType:"Feedback",plural:!1,selections:[d,{kind:"FragmentSpread",name:"UFI2ReactionActionLink_feedback",args:null}]}]},operation:{kind:"Operation",name:"UFI2ReactionsLinkStandaloneQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:b,concreteType:"Feedback",plural:!1,selections:[d,{kind:"ScalarField",alias:null,name:"can_viewer_react",args:e,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:e,concreteType:"FeedbackReactionInfo",plural:!1,selections:g},c,{kind:"LinkedField",alias:null,name:"viewer_actor",storageKey:null,args:e,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},c]},{kind:"LinkedField",alias:null,name:"supported_reactions",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!0,selections:[f]},{kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"reaction_count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:g}]}]},{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"UFI2ReactionsLinkStandaloneQuery",id:"2408553862516808",text:null,metadata:{}}}}();e.exports=a}),null);
__d("UFI2ReactionsLinkStandalone.react",["FBLogger","FeedbackReactionType","React","ReactDOM","RelayAPIConfig","RelayModern","RelayUFI2Environment","UFI2ReactionActionLink.react","UFIVideoPlayerRegistry","XUISpinner.react","UFI2ReactionsLinkStandaloneQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){__p&&__p();var c=a.error;a=a.props;if(c)return null;if(a==null)return b("React").createElement(b("XUISpinner.react"),{className:d.props.spinnerClassName,size:"small"});var e=a.feedback;if(!e){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d.props.queryVariables.feedbackTargetID||"UNKNOWN").mustfix("Query is missing feedback data.");return null}return b("React").createElement(b("UFI2ReactionActionLink.react"),{className:d.props.className,feedback:e,feedbackSource:d.props.feedbackSource,filled:!0,inverse:d.props.inverse,mutationInputAugmenter:function(a){return d.$1(e,a)},reactionIconClassName:d.props.reactionIconClassName,useDefaultActor:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){if(c.feedback_reaction===b("FeedbackReactionType").NONE)return c;var d=this.$2(a);if(d!=null){return babelHelpers["extends"]({},c,{time_anchor:{time:d,type:((d=a.associated_video)==null?void 0:d.is_live_streaming)===!0?"LIVE_VIDEO":"ON_DEMAND_VIDEO"}})}return c};d.$2=function(a){a=(a=a.associated_video)==null?void 0:a.id;var c=b("ReactDOM").findDOMNode(this);if(a==null||!(c instanceof Element))return;c=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(c,a);if(c==null)return;return Math.floor(c)};d.render=function(){var a=this.props.queryVariables;return b("React").createElement(g,{dataFrom:"STORE_THEN_NETWORK",environment:b("RelayUFI2Environment").forActor(b("RelayAPIConfig").actorID),query:c.query,render:this.$3,variables:babelHelpers["extends"]({},a)})};return c}(b("React").Component);a.query=function(){return b("UFI2ReactionsLinkStandaloneQuery.graphql")};e.exports=a}),null);
__d("UFI2ReactionsLinkStandaloneWhenVisible.react",["OnVisible.react","React","UFI2ReactionsLinkStandalone.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={wasEverVisible:!1},c.$1=function(){c.setState({wasEverVisible:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return this.state.wasEverVisible?b("React").createElement(b("UFI2ReactionsLinkStandalone.react"),this.props):b("React").createElement(b("OnVisible.react"),{onVisible:this.$1},b("React").createElement("div",null))};return c}(b("React").PureComponent);e.exports=a}),null);